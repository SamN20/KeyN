{% extends 'base.html' %}
{% block title %}Admin Action Complete{% endblock %}
{% block containerType %}<div class="admin-container">{% endblock %}
{% block content %}
<div class="action-complete-wrapper">
  <div class="complete-card">
    <div class="icon success"><i class="fas fa-check"></i></div>
    <h1>Action Completed</h1>
    <p class="meta">Action <code>{{ action.action_type }}</code> confirmed at <span>{{ action.used_at or action.expires_at }}</span>.</p>
    {% if result.client_id %}
      <div class="result-block">
        {% if result.client_secret %}
          <h2><i class="fas fa-plug"></i> New Client Created</h2>
          <div class="kv"><span>Client ID</span><code>{{ result.client_id }}</code></div>
          <div class="kv secret"><span>Client Secret</span><code>{{ result.client_secret }}</code></div>
          <p class="secret-warning"><i class="fas fa-exclamation-triangle"></i> Copy the client secret now. It won't be shown again.</p>
        {% else %}
          <h2><i class="fas fa-plug"></i> Client Updated</h2>
          <div class="kv"><span>Client ID</span><code>{{ result.client_id }}</code></div>
          {% if result.client_secret %}
            <div class="kv secret"><span>Rotated Secret</span><code>{{ result.client_secret }}</code></div>
            <p class="secret-warning"><i class="fas fa-exclamation-triangle"></i> Copy the rotated secret now. It won't be shown again.</p>
          {% endif %}
        {% endif %}
      </div>
    {% else %}
      <div class="result-block minimal">
        <p>No credential output for this action type.</p>
      </div>
    {% endif %}
    <div class="actions">
      <a href="/admin/clients" class="btn primary"><i class="fas fa-arrow-left"></i><span>Back to Clients</span></a>
      <a href="/admin" class="btn"><i class="fas fa-shield-alt"></i><span>Admin Home</span></a>
    </div>
  </div>
</div>
<style>
.admin-container {min-height:100vh;padding:30px;background:var(--bg-color);} 
.action-complete-wrapper {display:flex;justify-content:center;align-items:flex-start;padding-top:40px;}
.complete-card {background:var(--card-bg);border:1px solid var(--border-color);border-radius:24px;padding:50px 56px;max-width:720px;width:100%;text-align:center;box-shadow:0 15px 45px rgba(0,0,0,.12);position:relative;overflow:hidden;}
.complete-card:before {content:"";position:absolute;inset:0;background:radial-gradient(circle at top right,rgba(99,102,241,0.12),transparent 60%);pointer-events:none;}
.icon {width:96px;height:96px;border-radius:30px;display:flex;align-items:center;justify-content:center;margin:0 auto 28px;font-size:42px;color:#fff;box-shadow:0 8px 25px rgba(0,0,0,.25);} 
.icon.success {background:linear-gradient(135deg,#10b981,#059669);} 
h1 {margin:0 0 10px;font-size:40px;font-weight:700;color:var(--text-color);} 
.meta {margin:0 0 30px;color:var(--secondary-color);font-size:15px;} 
.result-block {background:var(--bg-color);border:1px solid var(--border-color);border-radius:18px;padding:28px 32px;text-align:left;margin:0 0 34px;position:relative;} 
.result-block h2 {margin:0 0 20px;font-size:20px;font-weight:600;display:flex;align-items:center;gap:10px;color:var(--text-color);} 
.kv {display:flex;align-items:center;gap:16px;margin:0 0 14px;font-size:14px;} 
.kv span {min-width:120px;font-weight:600;color:var(--secondary-color);text-transform:uppercase;letter-spacing:.5px;font-size:11px;} 
.kv code {background:var(--card-bg);padding:6px 10px;border-radius:8px;border:1px solid var(--border-color);font-size:13px;font-family:'SF Mono',Monaco,'Cascadia Code','Roboto Mono',Consolas,monospace;} 
.kv.secret code {background:linear-gradient(135deg,#1f2937,#111827);color:#f0fdf4;border-color:#059669;} 
.secret-warning {margin:8px 0 0;font-size:13px;color:#dc2626;display:flex;align-items:center;gap:6px;font-weight:600;} 
.actions {display:flex;justify-content:center;gap:16px;flex-wrap:wrap;} 
.btn {border:none;cursor:pointer;display:inline-flex;align-items:center;gap:8px;font-size:14px;font-weight:600;padding:14px 22px;border-radius:12px;background:var(--border-color);color:var(--text-color);text-decoration:none;transition:.25s;} 
.btn:hover {transform:translateY(-3px);} 
.btn.primary {background:#6366f1;color:#fff;box-shadow:0 4px 14px rgba(99,102,241,.35);} 
.btn.primary:hover {background:#4f46e5;} 
@media (max-width:760px){.complete-card {padding:40px 34px;} h1 {font-size:34px;} .result-block {padding:24px 24px;} }
</style>
{% endblock %}
